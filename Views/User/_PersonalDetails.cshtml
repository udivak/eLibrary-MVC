@model eLibrary.Models.User

<style>
    .card{
        max-width: 500px; /* Set maximum width */
        margin-left: 20px;
    }
    #passwordChangeForm {
        display: none; /* Hide the form by default */
        margin-top: 20px;
    }
</style>

<div class="card">
    <div class="card-body">
        <h5 class="card-title">Personal Details</h5>
        <p><strong>First Name:</strong> @Model.FirstName</p>
        <p><strong>Last Name:</strong> @Model.LastName</p>
        <p><strong>Username:</strong> @Model.UserName</p>
        <p><strong>Email:</strong> @Model.Email</p>
        <p><strong>Created At:</strong> @Model.CreatedAt</p>
        <p><strong>Address:</strong> @Model.Address</p>

        <!-- Button to open the password change form -->
        <button type="button" class="btn btn-primary" id="changePasswordBtn">Change Password</button>

        <!-- Password Change Form -->
        <div id="passwordChangeForm">
            <hr />
            <h5 class="card-title">Change Password</h5>
            <form method="post" action="@Url.Action("ChangePassword", "User")">
                <div class="form-group">
                    <label for="CurrentPassword">Current Password</label>
                    <input type="password" class="form-control" id="CurrentPassword" name="CurrentPassword" required />
                </div>
                <div class="form-group">
                    <label for="NewPassword">New Password</label>
                    <input type="password" class="form-control" id="NewPassword" name="NewPassword" required />
                </div>
                <div class="form-group">
                    <label for="ConfirmNewPassword">Confirm New Password</label>
                    <input type="password" class="form-control" id="ConfirmNewPassword" name="ConfirmNewPassword" required />
                </div>
                <button type="submit" class="btn btn-primary">Change Password</button>
            </form>
        </div>
    </div>
</div>

<script>
    // JavaScript to toggle the password change form
    document.getElementById("changePasswordBtn").addEventListener("click", function () {
        var form = document.getElementById("passwordChangeForm");
        form.style.display = form.style.display === "none" ? "block" : "none"; // Toggle visibility
    });
</script>
